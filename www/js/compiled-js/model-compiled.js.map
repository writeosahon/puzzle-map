{"version":3,"sources":["model.js"],"names":[],"mappings":"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","file":"model-compiled.js","sourcesContent":["/**\n * Created by UTOPIA SOFTWARE on 26/7/2018.\n */\n\n\n\n// define the model namespace\nutopiasoftware[utopiasoftware_app_namespace].model = {\n\n    /**\n     * property acts as a flag that indicates that all hybrid plugins and DOM content\n     * have been successfully loaded. It relies on the ons.ready() method\n     *\n     * @type {boolean} flag for if the hybrid plugins and DOM content are ready for execution\n     */\n    isAppReady: false,\n\n    /**\n     * holds the pouchDB database used by the app\n     */\n    appDatabase: null,\n\n    gameSettings: {\n        _id: \"gameSettings\",\n        doctype: \"GAME SETTINGS\",\n        backgroundMusicOn: true,\n        soundEffectsOn: true,\n        puzzleHintsOn: true\n    },\n\n    /**\n     * property is used to hold the present state of the user's puzzle game\n     */\n    _userGameData: {\n    },\n\n    userGameData: new Proxy(utopiasoftware[utopiasoftware_app_namespace].model._userGameData, {\n        set: function(target, prop, value){\n            if(prop === \"_update_all_data\"){ // copy all properties of the object for backup\n                for(let propertyName in value){\n                    target[propertyName] = value[propertyName];\n                }\n            }\n            else{ // copy the single property provided for backup\n                target[prop] = value;\n            }\n\n            // backup the target i.e. userGameData\n            new Promise(function(resolve, reject){\n                cordova.plugin.cloudsettings.save(target, resolve, resolve, true);\n            });\n            return true; // return true to signal that proxy updating was successful\n        },\n\n        get: async function(target, prop, proxyObj){\n\n            // return a promise which resolves to the property requested, but loaded from the backup data\n            return new Promise(function(resolve, reject){\n                cordova.plugin.cloudsettings.load(function(backedUpData){\n                    for(let propertyName in backedUpData){\n                        target[propertyName] = backedUpData[propertyName];\n                    }\n                    resolve(target[prop]);\n                }, function(){\n                    resolve(target[prop]);\n                });\n            });\n        }\n    })\n\n};\n\n// call the method to startup the app\nutopiasoftware[utopiasoftware_app_namespace].controller.startup();\n\n// listen for when the SIDE-MENU is opened\n$(document).on(\"postopen\", \"#side-menu\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleMenuPageViewModel.puzzleMenuOpened);\n\n// listen for when the SIDE-MENU is closed\n$(document).on(\"postclose\", \"#side-menu\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleMenuPageViewModel.puzzleMenuClosed);\n\n// listen for the initialisation of the PUZZLE-MENU page\n$(document).on(\"init\", \"#puzzle-menu-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleMenuPageViewModel.pageInit);\n\n// listen for when the PUZZLE-MENU page is shown\n$(document).on(\"show\", \"#puzzle-menu-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleMenuPageViewModel.pageShow);\n\n// listen for when the PUZZLE-MENU page is hidden\n$(document).on(\"hide\", \"#puzzle-menu-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleMenuPageViewModel.pageHide);\n\n// listen for when the PUZZLE-MENU page is destroyed\n$(document).on(\"destroy\", \"#puzzle-menu-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleMenuPageViewModel.pageDestroy);\n\n// listen for the initialisation of the PUZZLE-LEVELS page\n$(document).on(\"init\", \"#puzzle-levels-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleLevelsPageViewModel.pageInit);\n\n// listen for when the PUZZLE-LEVELS page is shown\n$(document).on(\"show\", \"#puzzle-levels-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleLevelsPageViewModel.pageShow);\n\n// listen for when the PUZZLE-LEVELS page is hidden\n$(document).on(\"hide\", \"#puzzle-levels-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleLevelsPageViewModel.pageHide);\n\n// listen for when the PUZZLE-LEVELS page is destroyed\n$(document).on(\"destroy\", \"#puzzle-levels-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzleLevelsPageViewModel.pageDestroy);\n\n// listen for the initialisation of the PUZZLE page\n$(document).on(\"init\", \"#puzzle-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzlePageViewModel.pageInit);\n\n// listen for when the PUZZLE page is shown\n$(document).on(\"show\", \"#puzzle-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzlePageViewModel.pageShow);\n\n// listen for when the PUZZLE page is hidden\n$(document).on(\"hide\", \"#puzzle-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzlePageViewModel.pageHide);\n\n// listen for when the PUZZLE page is destroyed\n$(document).on(\"destroy\", \"#puzzle-page\", utopiasoftware[utopiasoftware_app_namespace].controller.puzzlePageViewModel.pageDestroy);\n\n"]}